# Lab 04 instructions

## Objective

Make the student understand the power of lex language

# Requirements

* Linux machine, either a VM or a bare metal host
* GCC compiler (at least version 4.8)
* lex compiler
* Autotools
* git send mail server installed and configured on your Linux machine

## Instructions

Lex is a computer program that generates lexical analyzers ("scanners" or
"lexers").Lex reads an input stream specifying the lexical analyzer and outputs
source code implementing the lexer in the C programming language.

Please generate a lex code to parse the previous example of lab 03.

A valid line of code in ac could be:

```
// basic code

//float b
f b

// integer a
i a

// a = 5
a = 5

// b = a + 3.2
b = a + 3.2

//print 8.5
p b
```

Your output should be

```
COMMENT
COMMENT
floatdcl id
COMMENT
intdcl id
COMMENT
id assign inum
COMMENT
id assign id plus fnum
COMMENT
print id
```

## Expected result:

* Code a compiler.l that fulfill the requirements
* Code a Makefile for this code
* Generate a random AC code with:

```
python3 code_generator.py > example.ac

```

* Compile your code with the makefile and execute as follows:

```
make
lex compiler.l
gcc lex.yy.c -o compiler -ll
```


## Please send the mail as git send mail:

```
    $ git add  compiler.l Makefile
    $ git commit -s -m <STUDENT-ID>-homework-04
    $ git send-email -1

```
Do some tests sending the mail to your personal account, if you get the mail,
then you can be sure I will get the mail

## Performance test [NOW IS MANDATORY]

The code generation in the previous example has an option to generate stress
examples:

```
python3 code_generator.py --stress
```

This will generate a huge AC random code

* Try your solution with this option and check how much time to your solution to
do the lex part of the compiler.
* Compare the time with previous code that you generate in lab 3.
* Generate a report in LaTEX and send it to me (send the link from overleaf)
  using the [IEEE
  tempalte](https://www.overleaf.com/latex/templates/preparation-of-papers-for-ieee-sponsored-conferences-and-symposia/zfnqfzzzxghk)
* Paper should include a bar graph of the time it takes on your system to run
  with your C solution and the one generated by lex.
* Sections of the report should be:
    * Abstract
    * Introduction
    * Problem description
    * Solution
    * Results
    * Conclusions

## Good links for Hints

* [lextutorial](https://ds9a.nl/lex-yacc/cvs/lex-yacc-howto.html)
* [lex & yacc Second
Edition](https://www.amazon.com/lex-yacc-Doug-Brown/dp/1565920007)
At the end of chapter 1 there is a very similar code as the one requested in
this homework, you just need to read chapter 1 of this book :)
* [useoflexinc](https://www.quora.com/What-is-the-function-of-yylex-yyin-yyout-and-fclose-yyout-in-LEX)



## Time to do the homework:

One week from the moment the mail is sent to students

